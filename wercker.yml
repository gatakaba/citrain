box: wercker/python
build:
  steps:
    - virtualenv:
        python_location: /usr/bin/python3.4

    - pip-install

    - script:
        name: echo python informatoin
        code: |
           echo "python version $(python -V) running"
           echo "from location $(which python)"
           echo "pip freeze: $(pip freeze)"

    - script:
        name: update pelican-plugins
        code: |-
          cd pelican-plugins
          git submodule update --init
          cd ..

    - script:
        name: build blog by Pelican
        code: make html publish